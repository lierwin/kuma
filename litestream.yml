# litestream.yml (é’ˆå¯¹ 48 å°æ—¶é‡å¯å‘¨æœŸä¼˜åŒ–)

exec: node /app/server/server.js
dbs:
  - path: /app/data/kuma.db
    replicas:
      - type: s3
        # ... (B2 è´¦æˆ·å‡­è¯å’Œè¿æ¥ä¿¡æ¯ä¿æŒä¸å˜)
        access-key-id: '${LITESTREAM_ACCESS_KEY_ID}'
        secret-access-key: '${LITESTREAM_SECRET_ACCESS_KEY}'
        bucket: '${LITESTREAM_BUCKET}'
        path: '${LITESTREAM_PATH}'
        endpoint: '${LITESTREAM_URL}'
        region: '${LITESTREAM_REGION}'
        
        # =================================================================
        # ğŸš¨ å…³é”®ä¿®æ”¹ 1ï¼šå°†å¿«ç…§é—´éš”è®¾ä¸º 12 å°æ—¶
        # ä¿è¯é‡å¯æ—¶æœ€å¤šåªé‡æ”¾ 12 å°æ—¶çš„ WAL æ–‡ä»¶ã€‚
        snapshot-interval: 12h 

        # ğŸš¨ å…³é”®ä¿®æ”¹ 2ï¼šå»¶é•¿ WAL æ–‡ä»¶ä¿ç•™æ—¶é—´
        # ç¡®ä¿ WAL æ–‡ä»¶æ•°é‡è¶³å¤Ÿæ”¯æŒ 48 å°æ—¶ä»¥ä¸Šçš„æ¢å¤ã€‚
        retention: 72h 
        # =================================================================
